<%- include ("../partials/head.ejs",{cssPage:"productEdit.css",cssHome:"style_home.css"}) %> 
<body>

  <%- include ("../partials/header.ejs") %> 
  <main>
    <section >
    <form  id="form" action="/products/Edicion/<%=product.id%>?_method=PUT" method="post" class="formulario" enctype="multipart/form-data">
      <h2 class="Titulo">Tu <b>Producto</b></h2>


             <label class ="labelform
             " for="name"><div class="negrita">Nombre</div></label>
        <input class="input <%= locals.errors && locals.errors.name ? "error" : "" %>"  type="text" name="name" id="name" value="<%=  locals.old && old.name  ?  old.name : product.name %>">
        <b></b>
        <b><%= locals.errors && locals.errors.name ? errors.name.msg : "" %> </b>

  

                <label class ="labelform" for="brand"><div class="negrita">Marca</div></label>
        <select class="input"  name="brand"  id="brand">
          

           <% for( let i = 0; i < brands.length; i++ ) { %>

            <option class="input"  name="target" value="<%=brands[i].id%>" <% if (product.id_brand == brands[i].id) { %> selected <% } %><% if (locals.old && locals.old.brand == brands[i].id) { %>
                   <%= "selected" %> 
                  <% } %>>
               <%=brands[i].name%>
              </option>
           <% } %>
        </select>



              <label class ="labelform
             " for="model"><div class="negrita">Modelo</div></label>
        <input class="input <%= locals.errors && locals.errors.model ? "error" : "" %>"  type="text" name="model" id="model" value="<%=  locals.old && old.model  ?  old.model : product.model %>">
        <b></b>
        <b><%= locals.errors && locals.errors.model ? errors.model.msg : "" %> </b>

             <label class ="labelform
             " for="description"><div class="negrita">Descripcion</div></label>
        <input class="input <%= locals.errors && locals.errors.description ? "error" : "" %>"  name="description" id="description" cols="30" rows="10"  value="<%=  locals.old && old.description  ?  old.description : product.description %>">
        <b></b>
        <b><%= locals.errors && locals.errors.description ? errors.description.msg : "" %> </b>

        <label class ="labelform
        " for="image"><div class="negrita">Imagen del <b>Producto </b></div></label>
        <img class ="imagen" src="../../../images/products/<%=product.image%>" alt="ACAA">
        <input  class="input <%= locals.errors && locals.errors.image ? "error" : "" %>" type="file" name="image" id="image" >
        <b></b>
        <b><%= locals.errors && locals.errors.image ? errors.image.msg : "" %> </b>


      <label class ="labelform
      " for="price"><div class="negrita">Precio</div></label>
        <input  class="input <%= locals.errors && locals.errors.price ? "error" : "" %>" type="number" name="price" id="price" value="<%=  locals.old && old.price  ?  old.price : product.price %>">
        <b></b>

         <b><%= locals.errors && locals.errors.price ? errors.price.msg : "" %> </b>

      


         <label class ="labelform" for="target"><div class="negrita">Target</div></label>
        <select class="input"  name="target"  id="target">

           <% for( let i = 0; i <targets.length; i++ ) { %>
            <option class="input"  name="target" value="<%=targets[i].id%>" <% if (product.id_target == targets[i].id) { %> selected <% } %><% if (locals.old && locals.old.target == targets[i].id) { %>
                   <%= "selected" %> 
                  <% } %>> <%=targets[i].name%></option>
           <% } %>
        </select>
   

          <label class ="labelform" for="category"><div class="negrita">Categoria</div></label>
        <select class="input"  name="category"  id="target">
           <% for( let i = 0; i < categorys.length; i++ ) { %>
            <option class="input"  name="category" value="<%=categorys[i].id%>" <% if (product.id_product_category == categorys[i].id) { %> selected <% } %><% if (locals.old && locals.old.category == categorys[i].id) { %>
                   <%= "selected" %> 
                  <% } %>> <%=categorys[i].name%></option>
           <% } %>
        </select>
        


      <label class ="labelform
      " for="price"><div class="negrita">Garantia</div></label>
        <input  class="input <%= locals.errors && locals.errors.warranty ? "error" : "" %> " type="number" name="warranty" id="warranty" value="<%=  locals.old && old.warranty  ?  old.warranty : product.warranty %>">
        <b></b>
        <b><%= locals.errors && locals.errors.warranty ? errors.warranty.msg : "" %> </b>

      

        
        
        <button class="input" type="submit">Guardar Edicion</button>


      </form>
    </section >

    <script src="/js/productEdit.js"></script>
  </main>






  <%- include ("../partials/footer.ejs") %> 
</body>
</html>